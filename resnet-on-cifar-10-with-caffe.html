<!DOCTYPE html><html lang="en"><head><link rel="shortcut icon" href="/favicon.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><meta charSet="utf-8"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta property="og:description" content="Yihui He, AI research scientist / full stack engineer"/><meta name="theme-color" content="#EB625A"/><meta property="og:type" content="website"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253216309174736" crossorigin="anonymous"></script><meta property="og:title" content="ResNet on CIFAR-10 with Caffe"/><meta property="og:site_name" content="Yihui He"/><meta name="twitter:title" content="ResNet on CIFAR-10 with Caffe"/><meta property="twitter:domain" content="yihui-he.github.io"/><meta name="twitter:creator" content="@he_yi_hui"/><meta name="description" content="Yihui He, AI research scientist / full stack engineer"/><meta property="og:description" content="Yihui He, AI research scientist / full stack engineer"/><meta name="twitter:description" content="Yihui He, AI research scientist / full stack engineer"/><meta name="twitter:card" content="summary"/><link rel="canonical" href="https://yihui-he.github.io/resnet-on-cifar-10-with-caffe"/><meta property="og:url" content="https://yihui-he.github.io/resnet-on-cifar-10-with-caffe"/><meta property="twitter:url" content="https://yihui-he.github.io/resnet-on-cifar-10-with-caffe"/><title>ResNet on CIFAR-10 with Caffe</title><meta name="next-head-count" content="20"/><link rel="preload" href="/blog/_next/static/css/ce9b11b02642a9642d6d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/ce9b11b02642a9642d6d.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/4b67152b49ef8d389eef.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/4b67152b49ef8d389eef.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/blog/_next/static/chunks/webpack-ed2d627650adadaab635.js" defer=""></script><script src="/blog/_next/static/chunks/framework-c93ed74a065331c4bd75.js" defer=""></script><script src="/blog/_next/static/chunks/main-0989120ac94443065aa9.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-93d47364a9b4c8c53030.js" defer=""></script><script src="/blog/_next/static/chunks/1bfc9850-762e4e08544c8bec659c.js" defer=""></script><script src="/blog/_next/static/chunks/ae51ba48-7f31b5cf321fe3268476.js" defer=""></script><script src="/blog/_next/static/chunks/d7eeaac4-07e2c37279f27c6f41bc.js" defer=""></script><script src="/blog/_next/static/chunks/808-8e92cc1e8e3a13c0ecab.js" defer=""></script><script src="/blog/_next/static/chunks/270-25d82ee694bd9ee7ef5a.js" defer=""></script><script src="/blog/_next/static/chunks/pages/%5BpageId%5D-845d25c09c3d16569292.js" defer=""></script><script src="/blog/_next/static/KEmlg-PCM7O3sbnyeyRq3/_buildManifest.js" defer=""></script><script src="/blog/_next/static/KEmlg-PCM7O3sbnyeyRq3/_ssgManifest.js" defer=""></script></head><body><script src="noflash.js"></script><div id="__next"><div class="notion notion-app light-mode notion-block-e63112190ef841428a3feeedc910dd3b"><div class="notion-viewport"></div><div class="notion-frame"><header class="notion-header"><div class="nav-header"><div class="breadcrumbs"><a class="breadcrumb" href="/blog"><img class="icon notion-page-icon" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F63e89fe9-f5cd-4414-be0e-53d91aa54fc3%2Fme_small.jpg?table=block&amp;id=bd32b787-e471-49f3-8941-174a9c6846b6&amp;cache=v2" alt="Yihui He’s Blog" loading="lazy"/><span class="title">Yihui He’s Blog</span></a><span class="spacer">/</span><div class="breadcrumb active"><span class="title">ResNet on CIFAR-10 with Caffe</span></div></div><div class="rhs"></div></div></header><div class="notion-page-scroller"><main class="notion-page notion-page-no-cover notion-page-no-icon notion-page-has-text-icon notion-full-page"><h1 class="notion-title">ResNet on CIFAR-10 with Caffe</h1><div class="notion-page-content notion-page-content-has-aside notion-page-content-has-toc"><article class="notion-page-content-inner"><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-f4215f153f234a14bf6f5d37cad0746b" href="https://github.com/yihui-he/resnet-cifar10-caffe"><div><div class="notion-bookmark-title">GitHub - yihui-he/resnet-cifar10-caffe: ResNet-20/32/44/56/110 on CIFAR-10 with Caffe</div><div class="notion-bookmark-description">You can&#x27;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session.</div><div class="notion-bookmark-link"><img src="https://github.com/favicon.ico" alt="GitHub - yihui-he/resnet-cifar10-caffe: ResNet-20/32/44/56/110 on CIFAR-10 with Caffe" loading="lazy"/><div>https://github.com/yihui-he/resnet-cifar10-caffe</div></div></div><div class="notion-bookmark-image"><img src="https://opengraph.githubassets.com/0ead41c88a7cfa5cfcfb6a03c029d1eeb78ac959d668c0f279731e2923774bf6/yihui-he/resnet-cifar10-caffe" alt="GitHub - yihui-he/resnet-cifar10-caffe: ResNet-20/32/44/56/110 on CIFAR-10 with Caffe" loading="lazy"/></div></a></div><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-c34b76a7dea74f58aac63ae57f2dc053" data-id="c34b76a7dea74f58aac63ae57f2dc053"><span><div id="c34b76a7dea74f58aac63ae57f2dc053" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c34b76a7dea74f58aac63ae57f2dc053" title="Testing"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Testing</span></span></h4><pre class="notion-code language-bash"><code class="language-bash">~/caffe/build/tools/caffe <span class="token builtin class-name">test</span> -gpu <span class="token number">0</span> -iterations <span class="token number">100</span> -model resnet-20/trainval.prototxt -weights resnet-20/snapshot/solver_iter_64000.caffemodel</code></pre><table class="notion-simple-table notion-block-e876e4642b364dc5b6906c1933bc3479"><tbody><tr class="notion-simple-table-row notion-block-1fcc7fbd797d4426a012933355c87e56"><td class="" style="width:120px"><div class="notion-simple-table-cell">Model</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">Acc</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">Claimed Acc</div></td></tr><tr class="notion-simple-table-row notion-block-9dfd0349fdb84becb622ebe3afb7b50d"><td class="" style="width:120px"><div class="notion-simple-table-cell"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet20_iter_64000.caffemodel">ResNet-20</a></div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">91.4%</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">0.9125</div></td></tr><tr class="notion-simple-table-row notion-block-9d0bf09d028e4e419e2c23c842bf7918"><td class="" style="width:120px"><div class="notion-simple-table-cell"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet32_iter_64000.caffemodel">ResNet-32</a></div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">92.48%</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">0.9248999999999999</div></td></tr><tr class="notion-simple-table-row notion-block-21229d4f8a6e444e81af91030ae9945f"><td class="" style="width:120px"><div class="notion-simple-table-cell">ResNet-44</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">%</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">0.9283</div></td></tr><tr class="notion-simple-table-row notion-block-bcd8ea7ae22d420f96744568d64e903f"><td class="" style="width:120px"><div class="notion-simple-table-cell"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet56_iter_64000.caffemodel">ResNet-56</a></div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">92.9%</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">0.9303</div></td></tr><tr class="notion-simple-table-row notion-block-33202e8698bc46bea00d2d6a56ad4e5a"><td class="" style="width:120px"><div class="notion-simple-table-cell">ResNet-110</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">%</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">0.9339</div></td></tr></tbody></table><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-2c8e822d46e74575888bb659b346cc82" data-id="2c8e822d46e74575888bb659b346cc82"><span><div id="2c8e822d46e74575888bb659b346cc82" class="notion-header-anchor"></div><a class="notion-hash-link" href="#2c8e822d46e74575888bb659b346cc82" title="Citation"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Citation</span></span></h4><div class="notion-text notion-block-5a383aa73a2d4b4dbf88ca823a92bf88">If you find the code useful in your research, please consider citing:</div><pre class="notion-code language-plain text"><code class="language-plain text">@InProceedings<span class="token punctuation">{</span>He_2017_ICCV<span class="token punctuation">,</span>
author <span class="token operator">=</span> <span class="token punctuation">{</span>He<span class="token punctuation">,</span> Yihui and Zhang<span class="token punctuation">,</span> Xiangyu and Sun<span class="token punctuation">,</span> Jian<span class="token punctuation">}</span><span class="token punctuation">,</span>
title <span class="token operator">=</span> <span class="token punctuation">{</span>Channel Pruning <span class="token keyword">for</span> Accelerating Very Deep Neural Networks<span class="token punctuation">}</span><span class="token punctuation">,</span>
booktitle <span class="token operator">=</span> <span class="token punctuation">{</span>The <span class="token constant">IEEE</span> International Conference on Computer <span class="token function">Vision</span> <span class="token punctuation">(</span><span class="token constant">ICCV</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
month <span class="token operator">=</span> <span class="token punctuation">{</span>Oct<span class="token punctuation">}</span><span class="token punctuation">,</span>
year <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2017</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-98a4f746dd974c70b4f8d4c8464da428" data-id="98a4f746dd974c70b4f8d4c8464da428"><span><div id="98a4f746dd974c70b4f8d4c8464da428" class="notion-header-anchor"></div><a class="notion-hash-link" href="#98a4f746dd974c70b4f8d4c8464da428" title="Training"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Training</span></span></h4><pre class="notion-code language-bash"><code class="language-bash"><span class="token comment">#build caffe</span>
<span class="token function">git</span> clone https://github.com/yihui-he/resnet-cifar10-caffe
./download_cifar.sh
./train.sh <span class="token punctuation">[</span>GPUs<span class="token punctuation">]</span> <span class="token punctuation">[</span>NET<span class="token punctuation">]</span>
<span class="token comment">#eg., ./train.sh 0 resnet-20</span>
<span class="token comment">#find logs at resnet-20/logs</span></code></pre><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-938db2f5be91401eace9e143df4ac795" data-id="938db2f5be91401eace9e143df4ac795"><span><div id="938db2f5be91401eace9e143df4ac795" class="notion-header-anchor"></div><a class="notion-hash-link" href="#938db2f5be91401eace9e143df4ac795" title="Visualization"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Visualization</span></span></h4><div class="notion-text notion-block-9a30a6161196444b81b1d77f0cabb52e">specify caffe path in <a target="_blank" rel="noopener noreferrer" class="notion-link" href="cfgs.py">cfgs.py</a> and use <!-- -->plot.py<!-- --> to generate beautful loss plots.</div><pre class="notion-code language-bash"><code class="language-bash">python plot.py <span class="token environment constant">PATH</span>/TO/LOGS</code></pre><div class="notion-text notion-block-fde071bcf08b4de6a0de4e66786fc8b2">Results are consistent with original paper. seems there’s no much difference between resnet-20 and plain-20. However, from the second plot, you can see that plain-110 have difficulty to converge.</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-3fb2fb24d1f64d039b4b5b3acedb404f"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column"><img src="https://www.notion.so/image/https%3A%2F%2Fraw.githubusercontent.com%2Fyihui-he%2Fresnet-cifar10-caffe%2Fmaster%2Fplots%2Fresnet-20__2016-08-14_00-25-56plain_orth20__2016-08-14_15-34-29.png?table=block&amp;id=3fb2fb24-d1f6-4d03-9b4b-5b3acedb404f&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-7208cadbb91b43f288eaacb9d72a43ec"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column"><img src="https://www.notion.so/image/https%3A%2F%2Fraw.githubusercontent.com%2Fyihui-he%2Fresnet-cifar10-caffe%2Fmaster%2Fplots%2Fresnet-110__2016-08-15_10-12-25plain110__2016-08-15_10-11-55.png?table=block&amp;id=7208cadb-b91b-43f2-88ea-acb9d72a43ec&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-3be2b9fc9b304eb1ae14753528f85650" data-id="3be2b9fc9b304eb1ae14753528f85650"><span><div id="3be2b9fc9b304eb1ae14753528f85650" class="notion-header-anchor"></div><a class="notion-hash-link" href="#3be2b9fc9b304eb1ae14753528f85650" title="How I generate prototxts:"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">How I generate prototxts:</span></span></h4><div class="notion-text notion-block-71258006c81f4283863209176dee56c5">use <a target="_blank" rel="noopener noreferrer" class="notion-link" href="net_generator.py">net_generator.py</a> to generate <code class="notion-inline-code">solver.prototxt</code> and <code class="notion-inline-code">trainval.prototxt</code>, you can generate resnet or plain net of depth 20/32/44/56/110, or even deeper if you want. you just need to change <code class="notion-inline-code">n</code> according to <code class="notion-inline-code">depth=6n+2</code></div><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-1d6bdce78e8a4628bfc13be09607e979" data-id="1d6bdce78e8a4628bfc13be09607e979"><span><div id="1d6bdce78e8a4628bfc13be09607e979" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1d6bdce78e8a4628bfc13be09607e979" title="How I generate lmdb data:"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">How I generate lmdb data:</span></span></h4><pre class="notion-code language-bash"><code class="language-bash">./create_cifar.sh</code></pre><div class="notion-text notion-block-1b123ec3a799402f93372257f0505c44">create 4 pixel padded training LMDB and testing LMDB, then create a soft link <code class="notion-inline-code">ln -s cifar-10-batches-py</code> in this folder. - get <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.cs.toronto.edu/~kriz/cifar.html">cifar10 python version</a> - use <a target="_blank" rel="noopener noreferrer" class="notion-link" href="data_utils.py">data_utils.py</a> to generate 4 pixel padded training data and testing data. Horizontal flip and random crop are performed on the fly while training.</div><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-0c4b8dfca03044d0ab24bc1f43b08046" data-id="0c4b8dfca03044d0ab24bc1f43b08046"><span><div id="0c4b8dfca03044d0ab24bc1f43b08046" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0c4b8dfca03044d0ab24bc1f43b08046" title="Other models in Caffe"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Other models in Caffe</span></span></h4><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-31b505e6af4e4ed2a4f10a6dea243e16" href="https://yihui-he.github.io/blog/resnet-on-imagenet-with-caffe"><div><div class="notion-bookmark-title">yihui-he.github.io</div><div class="notion-bookmark-link"><div>https://yihui-he.github.io/blog/resnet-on-imagenet-with-caffe</div></div></div></a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-0201e910492244dfb20505e3d7ab7919" href="https://yihui-he.github.io/blog/xception-with-caffe"><div><div class="notion-bookmark-title">yihui-he.github.io</div><div class="notion-bookmark-link"><div>https://yihui-he.github.io/blog/xception-with-caffe</div></div></div></a></div><div class="notion-blank notion-block-620c515d7f724d0bb66dc5cb62b0b425"> </div></article><aside class="notion-aside"><div class="notion-aside-table-of-contents"><div class="notion-aside-table-of-contents-header">Table of Contents</div><nav class="notion-table-of-contents notion-gray"><a href="#c34b76a7dea74f58aac63ae57f2dc053" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Testing</span></a><a href="#2c8e822d46e74575888bb659b346cc82" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Citation</span></a><a href="#98a4f746dd974c70b4f8d4c8464da428" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Training</span></a><a href="#938db2f5be91401eace9e143df4ac795" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Visualization</span></a><a href="#3be2b9fc9b304eb1ae14753528f85650" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">How I generate prototxts:</span></a><a href="#1d6bdce78e8a4628bfc13be09607e979" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">How I generate lmdb data:</span></a><a href="#0c4b8dfca03044d0ab24bc1f43b08046" class="notion-table-of-contents-item notion-table-of-contents-item-indent-level-0"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Other models in Caffe</span></a></nav></div><div class="PageSocial_pageSocial__2WqHl"><a class="PageSocial_action__2zgVt PageSocial_twitter__-BgFt" href="https://yihui-he.github.io" title="personal website" target="_blank" rel="noopener noreferrer"><div class="PageSocial_actionBg__3CigO"><div class="PageSocial_actionBgPane__gbBkL"></div></div><div class="PageSocial_actionBg__3CigO"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></div></a><a class="PageSocial_action__2zgVt PageSocial_twitter__-BgFt" href="https://twitter.com/he_yi_hui" title="Twitter @he_yi_hui" target="_blank" rel="noopener noreferrer"><div class="PageSocial_actionBg__3CigO"><div class="PageSocial_actionBgPane__gbBkL"></div></div><div class="PageSocial_actionBg__3CigO"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"></path></svg></div></a><a class="PageSocial_action__2zgVt PageSocial_github__slQ0z" href="https://github.com/yihui-he" title="GitHub @yihui-he" target="_blank" rel="noopener noreferrer"><div class="PageSocial_actionBg__3CigO"><div class="PageSocial_actionBgPane__gbBkL"></div></div><div class="PageSocial_actionBg__3CigO"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div></a><a class="PageSocial_action__2zgVt PageSocial_linkedin__nElHT" href="https://www.linkedin.com/in/yihui-he-a4257aab" title="LinkedIn Yihui He" target="_blank" rel="noopener noreferrer"><div class="PageSocial_actionBg__3CigO"><div class="PageSocial_actionBgPane__gbBkL"></div></div><div class="PageSocial_actionBg__3CigO"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"></path></svg></div></a></div></aside></div></main><footer class="styles_footer__1r_c6"><div class="styles_copyright__3kWHj">Copyright 2022 <!-- -->Yihui He</div><div class="styles_social__235gY"><a class="styles_twitter__WwfaA" href="https://yihui-he.github.io" title="Twitter @he_yi_hui" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg></a><a class="styles_twitter__WwfaA" href="https://twitter.com/he_yi_hui" title="Twitter @he_yi_hui" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a class="styles_github__32xIr" href="https://github.com/yihui-he" title="GitHub @yihui-he" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a class="styles_linkedin__1XGvB" href="https://www.linkedin.com/in/yihui-he-a4257aab" title="LinkedIn Yihui He" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"site":{"domain":"yihui-he.github.io","name":"Yihui He","rootNotionPageId":"bd32b787e47149f38941174a9c6846b6","rootNotionSpaceId":null,"description":"Yihui He, AI research scientist / full stack engineer"},"recordMap":{"block":{"e6311219-0ef8-4142-8a3f-eeedc910dd3b":{"role":"reader","value":{"id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","version":38,"type":"page","properties":{"title":[["ResNet on CIFAR-10 with Caffe"]]},"content":["f4215f15-3f23-4a14-bf6f-5d37cad0746b","c34b76a7-dea7-4f58-aac6-3ae57f2dc053","453a95e3-59a9-4153-b0b0-ab0e18c12455","e876e464-2b36-4dc5-b690-6c1933bc3479","2c8e822d-46e7-4575-888b-b659b346cc82","5a383aa7-3a2d-4b4d-bf88-ca823a92bf88","14ab4340-7735-446a-826a-d909a5e78dc3","98a4f746-dd97-4c70-b4f8-d4c8464da428","2b28d7eb-83a3-4cb5-9730-10939dcae757","938db2f5-be91-401e-ace9-e143df4ac795","9a30a616-1196-444b-81b1-d77f0cabb52e","ed824d6f-8569-4230-876a-90420da5a46f","fde071bc-f08b-4de6-a0de-4e66786fc8b2","3fb2fb24-d1f6-4d03-9b4b-5b3acedb404f","7208cadb-b91b-43f2-88ea-acb9d72a43ec","3be2b9fc-9b30-4eb1-ae14-753528f85650","71258006-c81f-4283-8632-09176dee56c5","1d6bdce7-8e8a-4628-bfc1-3be09607e979","570c6a66-bc49-4957-8b0b-810773d0b460","1b123ec3-a799-402f-9337-2257f0505c44","0c4b8dfc-a030-44d0-ab24-bc1f43b08046","31b505e6-af4e-4ed2-a4f1-0a6dea243e16","0201e910-4922-44df-b205-05e3d7ab7919","620c515d-7f72-4d0b-b66d-c5cb62b0b425"],"permissions":[{"role":"editor","type":"user_permission","user_id":"9e9c4442-4350-473a-b900-c954b0bd7a95"}],"created_time":1646012745699,"last_edited_time":1646017920000,"parent_id":"bd32b787-e471-49f3-8941-174a9c6846b6","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"bd32b787-e471-49f3-8941-174a9c6846b6":{"role":"reader","value":{"id":"bd32b787-e471-49f3-8941-174a9c6846b6","version":273,"type":"page","properties":{"title":[["Yihui He’s Blog"]]},"content":["cc62526f-e4eb-42e5-8e8f-a22c3abd7b46","eb534ff0-d0e6-4c83-b817-92c761ad9034","41249f3f-76a2-458a-b13d-2bc06310337b","09ac442d-d3b5-4f43-9531-90cdae7640b7","76f263cc-0736-4657-91dd-551b1c541b4c","fad54c70-af5c-42a3-a00a-ff18bea9c382","9abe926f-8b36-4a60-a77e-e5436690a8c0","84c674a7-bbe3-4ac5-88c7-68e0c3909585","09517098-a843-437e-bb7a-4ac67866b29b","e7a12f56-b48c-43bf-803e-96d70518685f","932f5707-ab83-4542-af11-68fec7b5f28d","e6311219-0ef8-4142-8a3f-eeedc910dd3b","5f16dda4-316e-43af-a4ea-8fc6d6938404","23859d82-2201-4bb6-a86a-db693ea4992a","d5a94597-8cb4-43be-a6d0-0840b5518710","c54caf49-d28c-46ac-b72d-fc9bfa58bbdd","4751172a-1cb9-4633-84d6-21ba334ee3d7","8e23ed11-04f5-48ab-a95d-1f47a5cd22af","4b2fb8ba-1e4c-47ff-903b-0869360db746","010faf71-b9e5-4c47-832a-658dafc6e7ae","3db8e8fd-7383-4aea-8beb-608282db050e","60ff1c6d-fde5-426d-ac57-7bba2a5296a2","31008559-3d6f-4c33-bb50-4e463c9b19fb","201efca9-ba21-47c3-8b0d-35b41dd3f91f","04ced6eb-ca82-46db-8f8e-077f3bf6b29c","daf31581-086b-4fb1-9695-5a79117d4300","a0487f2c-eed0-4154-a6e8-2366ca1d7939","95728d67-dc1f-4086-881b-1cd1bf72f985","cba2b20a-aa13-466c-bcb6-a9f9c9f057da","5e0b979d-ef00-44a3-894f-38d28cfd7576","38a364d6-720a-4788-aeee-c2b224745860","6a838606-233d-4584-b2f1-3d198b1603e8","f93f1e88-d826-4cd3-ab2a-cd92ddd2ac53","e8156bf2-5303-4590-a44a-6db1404c8c7b","2411768d-af34-4f88-8772-c46ca4428256","52357a78-3241-4a0a-bcb7-46bfd15070a4","3f4c64fb-75dc-4ccd-9e22-ce5704d0dfdb","d1ef1d4d-bfa8-40c4-a78c-037da96f3681","e5ac54eb-e227-49f0-9bf8-31ef47dbd9f9"],"discussions":["a13be18e-5008-4f8c-b07a-0fadb99d7450"],"format":{"page_icon":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/63e89fe9-f5cd-4414-be0e-53d91aa54fc3/me_small.jpg"},"permissions":[{"role":"editor","type":"user_permission","user_id":"9e9c4442-4350-473a-b900-c954b0bd7a95"},{"role":"reader","type":"public_permission","added_timestamp":1645466303668}],"created_time":1645422720000,"last_edited_time":1646021580000,"parent_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1","parent_table":"space","alive":true,"file_ids":["e3d85759-49f2-40d2-ba30-d25ca401872e","cfc564cc-91ae-4a96-a912-fcc9a28ec5db","63e89fe9-f5cd-4414-be0e-53d91aa54fc3"],"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"f4215f15-3f23-4a14-bf6f-5d37cad0746b":{"role":"reader","value":{"id":"f4215f15-3f23-4a14-bf6f-5d37cad0746b","version":8,"type":"bookmark","properties":{"link":[["https://github.com/yihui-he/resnet-cifar10-caffe"]],"title":[["GitHub - yihui-he/resnet-cifar10-caffe: ResNet-20/32/44/56/110 on CIFAR-10 with Caffe"]],"description":[["You can't perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session."]]},"format":{"bookmark_icon":"https://github.com/favicon.ico","bookmark_cover":"https://opengraph.githubassets.com/0ead41c88a7cfa5cfcfb6a03c029d1eeb78ac959d668c0f279731e2923774bf6/yihui-he/resnet-cifar10-caffe"},"created_time":1646012774244,"last_edited_by":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_time":1646012760000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"c34b76a7-dea7-4f58-aac6-3ae57f2dc053":{"role":"reader","value":{"id":"c34b76a7-dea7-4f58-aac6-3ae57f2dc053","version":1,"type":"sub_sub_header","properties":{"title":[["Testing"]]},"created_time":1646012745649,"last_edited_time":1646012745649,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"453a95e3-59a9-4153-b0b0-ab0e18c12455":{"role":"reader","value":{"id":"453a95e3-59a9-4153-b0b0-ab0e18c12455","version":3,"type":"code","properties":{"title":[["~/caffe/build/tools/caffe test -gpu 0 -iterations 100 -model resnet-20/trainval.prototxt -weights resnet-20/snapshot/solver_iter_64000.caffemodel"]],"language":[["Bash"]]},"format":{"code_wrap":true},"created_time":1646012745649,"last_edited_time":1646016900000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"e876e464-2b36-4dc5-b690-6c1933bc3479":{"role":"reader","value":{"id":"e876e464-2b36-4dc5-b690-6c1933bc3479","version":25,"type":"table","content":["1fcc7fbd-797d-4426-a012-933355c87e56","9dfd0349-fdb8-4bec-b622-ebe3afb7b50d","9d0bf09d-028e-4e41-9e2c-23c842bf7918","21229d4f-8a6e-444e-81af-91030ae9945f","bcd8ea7a-e22d-420f-9674-4568d64e903f","33202e86-98bc-46be-a00d-2d6a56ad4e5a"],"view_ids":["cee8d5a0-dbbb-4eda-8d45-a63df0402554"],"collection_id":"8e6b101d-0862-4a7a-aa8a-cb6d28a186a3","format":{"collection_pointer":{"id":"8e6b101d-0862-4a7a-aa8a-cb6d28a186a3","table":"collection","spaceId":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"},"table_block_column_order":["{ITw","\u003cier","\\QqD"],"table_block_column_header":true},"created_time":1646012745690,"last_edited_time":1646017920000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"1fcc7fbd-797d-4426-a012-933355c87e56":{"role":"reader","value":{"id":"1fcc7fbd-797d-4426-a012-933355c87e56","version":9,"type":"table_row","properties":{"\u003cier":[["Acc"]],"\\QqD":[["Claimed Acc"]],"{ITw":[["Model"]]},"created_time":1646015640000,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"9dfd0349-fdb8-4bec-b622-ebe3afb7b50d":{"role":"reader","value":{"id":"9dfd0349-fdb8-4bec-b622-ebe3afb7b50d","version":9,"type":"table_row","properties":{"\u003cier":[["91.4%"]],"\\QqD":[["0.9125"]],"{ITw":[["ResNet-20",[["a","https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet20_iter_64000.caffemodel"]]]]},"created_time":1646012745691,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"9d0bf09d-028e-4e41-9e2c-23c842bf7918":{"role":"reader","value":{"id":"9d0bf09d-028e-4e41-9e2c-23c842bf7918","version":9,"type":"table_row","properties":{"\u003cier":[["92.48%"]],"\\QqD":[["0.9248999999999999"]],"{ITw":[["ResNet-32",[["a","https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet32_iter_64000.caffemodel"]]]]},"created_time":1646012745691,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"21229d4f-8a6e-444e-81af-91030ae9945f":{"role":"reader","value":{"id":"21229d4f-8a6e-444e-81af-91030ae9945f","version":9,"type":"table_row","properties":{"\u003cier":[["%"]],"\\QqD":[["0.9283"]],"{ITw":[["ResNet-44"]]},"created_time":1646012745691,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"bcd8ea7a-e22d-420f-9674-4568d64e903f":{"role":"reader","value":{"id":"bcd8ea7a-e22d-420f-9674-4568d64e903f","version":9,"type":"table_row","properties":{"\u003cier":[["92.9%"]],"\\QqD":[["0.9303"]],"{ITw":[["ResNet-56",[["a","https://github.com/yihui-he/resnet-cifar10-caffe/releases/download/1.0/resnet56_iter_64000.caffemodel"]]]]},"created_time":1646012745691,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"33202e86-98bc-46be-a00d-2d6a56ad4e5a":{"role":"reader","value":{"id":"33202e86-98bc-46be-a00d-2d6a56ad4e5a","version":9,"type":"table_row","properties":{"\u003cier":[["%"]],"\\QqD":[["0.9339"]],"{ITw":[["ResNet-110"]]},"created_time":1646012745691,"last_edited_time":1646017920000,"parent_id":"e876e464-2b36-4dc5-b690-6c1933bc3479","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"2c8e822d-46e7-4575-888b-b659b346cc82":{"role":"reader","value":{"id":"2c8e822d-46e7-4575-888b-b659b346cc82","version":1,"type":"sub_sub_header","properties":{"title":[["Citation"]]},"created_time":1646012745691,"last_edited_time":1646012745691,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"5a383aa7-3a2d-4b4d-bf88-ca823a92bf88":{"role":"reader","value":{"id":"5a383aa7-3a2d-4b4d-bf88-ca823a92bf88","version":1,"type":"text","properties":{"title":[["If you find the code useful in your research, please consider citing:"]]},"created_time":1646012745692,"last_edited_time":1646012745692,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"14ab4340-7735-446a-826a-d909a5e78dc3":{"role":"reader","value":{"id":"14ab4340-7735-446a-826a-d909a5e78dc3","version":1,"type":"code","properties":{"title":[["@InProceedings{He_2017_ICCV,\nauthor = {He, Yihui and Zhang, Xiangyu and Sun, Jian},\ntitle = {Channel Pruning for Accelerating Very Deep Neural Networks},\nbooktitle = {The IEEE International Conference on Computer Vision (ICCV)},\nmonth = {Oct},\nyear = {2017}\n}"]],"language":[["Plain Text"]]},"format":{"code_wrap":true},"created_time":1646012745692,"last_edited_time":1646012745692,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"98a4f746-dd97-4c70-b4f8-d4c8464da428":{"role":"reader","value":{"id":"98a4f746-dd97-4c70-b4f8-d4c8464da428","version":1,"type":"sub_sub_header","properties":{"title":[["Training"]]},"created_time":1646012745692,"last_edited_time":1646012745692,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"2b28d7eb-83a3-4cb5-9730-10939dcae757":{"role":"reader","value":{"id":"2b28d7eb-83a3-4cb5-9730-10939dcae757","version":3,"type":"code","properties":{"title":[["#build caffe\ngit clone https://github.com/yihui-he/resnet-cifar10-caffe\n./download_cifar.sh\n./train.sh [GPUs] [NET]\n#eg., ./train.sh 0 resnet-20\n#find logs at resnet-20/logs"]],"language":[["Bash"]]},"format":{"code_wrap":true},"created_time":1646012745692,"last_edited_time":1646016960000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"938db2f5-be91-401e-ace9-e143df4ac795":{"role":"reader","value":{"id":"938db2f5-be91-401e-ace9-e143df4ac795","version":1,"type":"sub_sub_header","properties":{"title":[["Visualization"]]},"created_time":1646012745692,"last_edited_time":1646012745692,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"9a30a616-1196-444b-81b1-d77f0cabb52e":{"role":"reader","value":{"id":"9a30a616-1196-444b-81b1-d77f0cabb52e","version":1,"type":"text","properties":{"title":[["specify caffe path in "],["cfgs.py",[["a","cfgs.py"]]],[" and use "],["plot.py"],[" to generate beautful loss plots."]]},"created_time":1646012745693,"last_edited_time":1646012745693,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"ed824d6f-8569-4230-876a-90420da5a46f":{"role":"reader","value":{"id":"ed824d6f-8569-4230-876a-90420da5a46f","version":3,"type":"code","properties":{"title":[["python plot.py PATH/TO/LOGS"]],"language":[["Bash"]]},"format":{"code_wrap":true},"created_time":1646012745694,"last_edited_time":1646016960000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"fde071bc-f08b-4de6-a0de-4e66786fc8b2":{"role":"reader","value":{"id":"fde071bc-f08b-4de6-a0de-4e66786fc8b2","version":1,"type":"text","properties":{"title":[["Results are consistent with original paper. seems there’s no much difference between resnet-20 and plain-20. However, from the second plot, you can see that plain-110 have difficulty to converge."]]},"created_time":1646012745694,"last_edited_time":1646012745694,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"3fb2fb24-d1f6-4d03-9b4b-5b3acedb404f":{"role":"reader","value":{"id":"3fb2fb24-d1f6-4d03-9b4b-5b3acedb404f","version":1,"type":"image","properties":{"source":[["https://raw.githubusercontent.com/yihui-he/resnet-cifar10-caffe/master/plots/resnet-20__2016-08-14_00-25-56plain_orth20__2016-08-14_15-34-29.png"]]},"created_time":1646012745694,"last_edited_time":1646012745694,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"7208cadb-b91b-43f2-88ea-acb9d72a43ec":{"role":"reader","value":{"id":"7208cadb-b91b-43f2-88ea-acb9d72a43ec","version":1,"type":"image","properties":{"source":[["https://raw.githubusercontent.com/yihui-he/resnet-cifar10-caffe/master/plots/resnet-110__2016-08-15_10-12-25plain110__2016-08-15_10-11-55.png"]]},"created_time":1646012745695,"last_edited_time":1646012745695,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"3be2b9fc-9b30-4eb1-ae14-753528f85650":{"role":"reader","value":{"id":"3be2b9fc-9b30-4eb1-ae14-753528f85650","version":1,"type":"sub_sub_header","properties":{"title":[["How I generate prototxts:"]]},"created_time":1646012745695,"last_edited_time":1646012745695,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"71258006-c81f-4283-8632-09176dee56c5":{"role":"reader","value":{"id":"71258006-c81f-4283-8632-09176dee56c5","version":1,"type":"text","properties":{"title":[["use "],["net_generator.py",[["a","net_generator.py"]]],[" to generate "],["solver.prototxt",[["c"]]],[" and "],["trainval.prototxt",[["c"]]],[", you can generate resnet or plain net of depth 20/32/44/56/110, or even deeper if you want. you just need to change "],["n",[["c"]]],[" according to "],["depth=6n+2",[["c"]]]]},"created_time":1646012745696,"last_edited_time":1646012745696,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"1d6bdce7-8e8a-4628-bfc1-3be09607e979":{"role":"reader","value":{"id":"1d6bdce7-8e8a-4628-bfc1-3be09607e979","version":1,"type":"sub_sub_header","properties":{"title":[["How I generate lmdb data:"]]},"created_time":1646012745696,"last_edited_time":1646012745696,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"570c6a66-bc49-4957-8b0b-810773d0b460":{"role":"reader","value":{"id":"570c6a66-bc49-4957-8b0b-810773d0b460","version":3,"type":"code","properties":{"title":[["./create_cifar.sh"]],"language":[["Bash"]]},"format":{"code_wrap":true},"created_time":1646012745696,"last_edited_time":1646016960000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"1b123ec3-a799-402f-9337-2257f0505c44":{"role":"reader","value":{"id":"1b123ec3-a799-402f-9337-2257f0505c44","version":1,"type":"text","properties":{"title":[["create 4 pixel padded training LMDB and testing LMDB, then create a soft link "],["ln -s cifar-10-batches-py",[["c"]]],[" in this folder. - get "],["cifar10 python version",[["a","https://www.cs.toronto.edu/~kriz/cifar.html"]]],[" - use "],["data_utils.py",[["a","data_utils.py"]]],[" to generate 4 pixel padded training data and testing data. Horizontal flip and random crop are performed on the fly while training."]]},"created_time":1646012745698,"last_edited_time":1646012745698,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"0c4b8dfc-a030-44d0-ab24-bc1f43b08046":{"role":"reader","value":{"id":"0c4b8dfc-a030-44d0-ab24-bc1f43b08046","version":1,"type":"sub_sub_header","properties":{"title":[["Other models in Caffe"]]},"created_time":1646012745698,"last_edited_time":1646012745698,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"31b505e6-af4e-4ed2-a4f1-0a6dea243e16":{"role":"reader","value":{"id":"31b505e6-af4e-4ed2-a4f1-0a6dea243e16","version":8,"type":"bookmark","properties":{"link":[["https://yihui-he.github.io/blog/resnet-on-imagenet-with-caffe"]]},"created_time":1646017320000,"last_edited_time":1646017320000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"0201e910-4922-44df-b205-05e3d7ab7919":{"role":"reader","value":{"id":"0201e910-4922-44df-b205-05e3d7ab7919","version":8,"type":"bookmark","properties":{"link":[["https://yihui-he.github.io/blog/xception-with-caffe"]]},"created_time":1646016960000,"last_edited_time":1646016960000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}},"620c515d-7f72-4d0b-b66d-c5cb62b0b425":{"role":"reader","value":{"id":"620c515d-7f72-4d0b-b66d-c5cb62b0b425","version":3,"type":"text","created_time":1646017320000,"last_edited_time":1646017320000,"parent_id":"e6311219-0ef8-4142-8a3f-eeedc910dd3b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","last_edited_by_table":"notion_user","last_edited_by_id":"9e9c4442-4350-473a-b900-c954b0bd7a95","space_id":"bb9288f4-efb5-417f-bf44-1a79fa04feb1"}}},"space":{},"discussion":{},"comment":{},"collection_view":{},"collection":{},"notion_user":{},"collection_query":{},"signed_urls":{},"preview_images":{}},"pageId":"e6311219-0ef8-4142-8a3f-eeedc910dd3b"},"__N_SSG":true},"page":"/[pageId]","query":{"pageId":"resnet-on-cifar-10-with-caffe"},"buildId":"KEmlg-PCM7O3sbnyeyRq3","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>